# üèÅ Chess Bot Heatmap Visualization System

–°–∏—Å—Ç–µ–º–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É —Ç–µ–ø–ª–æ–≤–∏—Ö –∫–∞—Ä—Ç —Ä—É—Ö—ñ–≤ —à–∞—Ö–æ–≤–∏—Ö –±–æ—Ç—ñ–≤ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –µ—Ç–∞–ø–∞—Ö –≥—Ä–∏.

## üéØ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–ø–ª–æ–≤–∏—Ö –∫–∞—Ä—Ç** –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –±–æ—Ç—ñ–≤ —Ç–∞ –µ—Ç–∞–ø—ñ–≤ –≥—Ä–∏
- **–ê–Ω–∞–ª—ñ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤ —Ä—É—Ö—ñ–≤** —Ñ—ñ–≥—É—Ä
- **–í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–µ–ø–ª–æ–≤–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- **API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏** –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —ñ–Ω—à–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- **–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –±–æ—Ç—ñ–≤** –∑–∞ —ó—Ö —Å—Ç–∏–ª–µ–º –≥—Ä–∏
- **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö** –ª–æ–∫–∞–ª—å–Ω–æ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º gitignore

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
heatmap_visualizations/
‚îú‚îÄ‚îÄ generated/          # –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ —Ç–µ–ø–ª–æ–≤—ñ –∫–∞—Ä—Ç–∏
‚îú‚îÄ‚îÄ bot_specific/       # –¢–µ–ø–ª–æ–≤—ñ –∫–∞—Ä—Ç–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –±–æ—Ç—ñ–≤
‚îú‚îÄ‚îÄ game_phases/        # –¢–µ–ø–ª–æ–≤—ñ –∫–∞—Ä—Ç–∏ –ø–æ –µ—Ç–∞–ø–∞—Ö –≥—Ä–∏
‚îî‚îÄ‚îÄ piece_analysis/     # –ê–Ω–∞–ª—ñ–∑ –æ–∫—Ä–µ–º–∏—Ö —Ñ—ñ–≥—É—Ä

utils/
‚îú‚îÄ‚îÄ heatmap_generator.py    # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–ø–ª–æ–≤–∏—Ö –∫–∞—Ä—Ç
‚îî‚îÄ‚îÄ heatmap_analyzer.py     # –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤

runs/                   # –î–∞–Ω—ñ —ñ–≥–æ—Ä (JSON —Ñ–∞–π–ª–∏)
output/                 # –í–∏—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏
logs/                   # –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º–∏
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pip3 install chess numpy matplotlib seaborn flask flask-cors
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π

```bash
python3 setup_heatmap_directories.py
```

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑—Ä–∞–∑–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö

```bash
python3 create_sample_data.py
```

### 4. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–ø–ª–æ–≤–æ—ó –∫–∞—Ä—Ç–∏

```bash
# –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞
python3 generate_bot_heatmaps.py --bot DynamicBot --phase all --piece all --games 10

# –î–ª—è –≤—Å—ñ—Ö –±–æ—Ç—ñ–≤
python3 generate_bot_heatmaps.py --all-bots
```

### 5. –ó–∞–ø—É—Å–∫ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

```bash
python3 web_server.py
```

–í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:5000/heatmaps –¥–ª—è –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É.

## üîß API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ç–µ–ø–ª–æ–≤–∏—Ö –∫–∞—Ä—Ç
```http
GET /api/heatmaps
```

### –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ç–µ–ø–ª–æ–≤—É –∫–∞—Ä—Ç—É
```http
POST /api/heatmaps/generate
Content-Type: application/json

{
    "bot_name": "DynamicBot",
    "game_phase": "opening",
    "piece_type": "pawn",
    "games_limit": 100
}
```

### –ê–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∏ –±–æ—Ç–∞
```http
POST /api/heatmaps/analyze
Content-Type: application/json

{
    "bot_name": "DynamicBot",
    "piece_type": "all"
}
```

### –û—Ç—Ä–∏–º–∞—Ç–∏ —Ñ–∞–π–ª —Ç–µ–ø–ª–æ–≤–æ—ó –∫–∞—Ä—Ç–∏
```http
GET /api/heatmaps/{filename}
```

## üéÆ –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ –±–æ—Ç–∏

- **DynamicBot** - –ú–µ—Ç–∞-–∞–≥–µ–Ω—Ç, —â–æ –ø–æ—î–¥–Ω—É—î —Ä—ñ–∑–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó
- **StockfishBot** - UCI engine-backed bot
- **RandomBot** - –í–∏–ø–∞–¥–∫–æ–≤—ñ —Ö–æ–¥–∏ –∑ –ø—Ä–æ—Å—Ç–æ—é –æ—Ü—ñ–Ω–∫–æ—é
- **AggressiveBot** - –ú–∞–∫—Å–∏–º—ñ–∑–∞—Ü—ñ—è –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–±—É—Ç–∫—É
- **FortifyBot** - –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∑–∞—Ö–∏—Å—Ç—É —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—ñ—à–∞–∫—ñ–≤
- **EndgameBot** - –ï–≤—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –µ–Ω–¥—à–ø—ñ–ª—é
- **CriticalBot** - –ù–∞—Ü—ñ–ª–µ–Ω–Ω—è –Ω–∞ –∑–∞–≥—Ä–æ–∑–ª–∏–≤—ñ —Ñ—ñ–≥—É—Ä–∏ —Å—É–ø–µ—Ä–Ω–∏–∫–∞
- **TrapBot** - –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞–∫—Ç–∏—á–Ω–∏—Ö –ø–∞—Å—Ç–æ–∫
- **KingValueBot** - –û—Ü—ñ–Ω–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –±–µ–∑–ø–µ–∫–∏ –∫–æ—Ä–æ–ª—è
- **NeuralBot** - –ù–µ–π—Ä–æ–Ω–Ω–∞ –º–µ—Ä–µ–∂–∞ –¥–ª—è –æ—Ü—ñ–Ω–∫–∏ —Ö–æ–¥—ñ–≤
- **UtilityBot** - –ë–∞–∑–æ–≤—ñ —É—Ç–∏–ª—ñ—Ç–∏ –æ—Ü—ñ–Ω–∫–∏
- **PieceMateBot** - –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –≤—Ç–µ—á—ñ —Ü—ñ–ª—å–æ–≤–∏—Ö —Ñ—ñ–≥—É—Ä

## üìä –ï—Ç–∞–ø–∏ –≥—Ä–∏

- **opening** (1-15 —Ö–æ–¥—ñ–≤) - –î–µ–±—é—Ç
- **middlegame** (16-40 —Ö–æ–¥—ñ–≤) - –ú—ñ—Ç–µ–ª—å—à–ø—ñ–ª—å  
- **endgame** (41+ —Ö–æ–¥—ñ–≤) - –ï–Ω–¥—à–ø—ñ–ª—å
- **all** - –í—Å—è –≥—Ä–∞

## ‚ôüÔ∏è –¢–∏–ø–∏ —Ñ—ñ–≥—É—Ä

- **pawn** - –ü—ñ—à–∞–∫–∏
- **knight** - –ö–æ–Ω—ñ
- **bishop** - –°–ª–æ–Ω–∏
- **rook** - –¢—É—Ä–∏
- **queen** - –§–µ—Ä–∑—ñ
- **king** - –ö–æ—Ä–æ–ª—ñ
- **all** - –í—Å—ñ —Ñ—ñ–≥—É—Ä–∏

## üê≥ Docker –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Docker. –§–∞–π–ª–∏ —Ç–µ–ø–ª–æ–≤–∏—Ö –∫–∞—Ä—Ç –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ volume:

```yaml
volumes:
  - ./heatmap_visualizations:/heatmap_visualizations
  - ./runs:/runs
  - ./output:/output
```

## üìà –ê–Ω–∞–ª—ñ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤

–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª—ñ–∑—É—î:

- **–ì–∞—Ä—è—á—ñ —Ç–æ—á–∫–∏** - –∫–≤–∞–¥—Ä–∞—Ç–∏ –∑ –Ω–∞–π–±—ñ–ª—å—à–æ—é –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—é
- **–•–æ–ª–æ–¥–Ω—ñ —Ç–æ—á–∫–∏** - –∫–≤–∞–¥—Ä–∞—Ç–∏ –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ü–µ–Ω—Ç—Ä—É** - –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞ d4, d5, e4, e5
- **–ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ñ–ª–∞–Ω–≥—ñ–≤** - –∫–æ—Ä–æ–ª—ñ–≤—Å—å–∫–∏–π vs —Ñ–µ—Ä–∑–µ–≤–∏–π —Ñ–ª–∞–Ω–≥
- **–ó–∞–≥–∞–ª—å–Ω–∞ –º–æ–±—ñ–ª—å–Ω—ñ—Å—Ç—å** - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—É—Ö—ñ–≤ —Ñ—ñ–≥—É—Ä

## üîç –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```python
from utils.heatmap_generator import HeatmapGenerator
from utils.heatmap_analyzer import HeatmapAnalyzer

# –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–ø–ª–æ–≤–æ—ó –∫–∞—Ä—Ç–∏
generator = HeatmapGenerator()
result = generator.generate_heatmap(
    bot_name="DynamicBot",
    game_phase="opening", 
    piece_type="pawn",
    games_limit=50
)

# –ê–Ω–∞–ª—ñ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤
analyzer = HeatmapAnalyzer()
analysis = analyzer.analyze_bot_patterns("DynamicBot", "all")
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
python3 test_heatmap_system.py
```

## üìù –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `heatmap_config.json`:

```json
{
  "heatmap_settings": {
    "default_bots": ["DynamicBot", "StockfishBot", ...],
    "game_phases": {
      "opening": {"moves": [1, 15], "description": "–î–µ–±—é—Ç"},
      "middlegame": {"moves": [16, 40], "description": "–ú—ñ—Ç–µ–ª—å—à–ø—ñ–ª—å"},
      "endgame": {"moves": [41, 200], "description": "–ï–Ω–¥—à–ø—ñ–ª—å"}
    },
    "piece_types": {
      "pawn": {"symbols": ["P", "p"], "description": "–ü—ñ—à–∞–∫–∏"},
      "knight": {"symbols": ["N", "n"], "description": "–ö–æ–Ω—ñ"}
    }
  }
}
```

## üö® –í—ñ–¥–æ–º—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è

- –ü–æ—Ç—Ä–µ–±—É—î –≤–∞–ª—ñ–¥–Ω—ñ PGN —Ö–æ–¥–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥—É
- –î–µ—è–∫—ñ —Ö–æ–¥–∏ –º–æ–∂—É—Ç—å –Ω–µ –ø–∞—Ä—Å–∏—Ç–∏—Å—è —á–µ—Ä–µ–∑ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ñ—Å—Ç—å
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –∑ —ñ—Å–Ω—É—é—á–∏–º–∏ –¥–∞–Ω–∏–º–∏ —ñ–≥–æ—Ä —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON

## üîß –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

–õ–æ–≥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `logs/` –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó. –î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è:

```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –¥–∞–Ω—ñ —ñ–≥–æ—Ä —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ `logs/` –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–∏: `python3 test_heatmap_system.py`

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–∏—Å—Ç–µ–º–∞ —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–∞ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–∞! –í—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø—Ä–∞—Ü—é—é—Ç—å:

- ‚úÖ API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ç–µ–ø–ª–æ–≤–∏—Ö –∫–∞—Ä—Ç
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ–ø–ª–æ–≤–∏—Ö –∫–∞—Ä—Ç –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –±–æ—Ç—ñ–≤ —Ç–∞ –µ—Ç–∞–ø—ñ–≤ –≥—Ä–∏
- ‚úÖ –ê–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤ —Ä—É—Ö—ñ–≤ —Ñ—ñ–≥—É—Ä
- ‚úÖ –í–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .gitignore
- ‚úÖ Docker –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∏–º –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è–º
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∑ –∑—Ä–∞–∑–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏

–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ç–µ–ø–ª–æ–≤—ñ –∫–∞—Ä—Ç–∏ –¥–ª—è –≤–∞—à–∏—Ö —à–∞—Ö–æ–≤–∏—Ö –±–æ—Ç—ñ–≤! üèÅ‚ôüÔ∏è