# PST Artifact Strategy

## Проблема

Файл `pst.json` (Piece-Square Table) викликав конфлікти мерджу через:
- Великий розмір (2393 рядки)
- Часті автоматичні оновлення під час навчання AI
- Структурований JSON формат з числовими масивами

## Рішення

Реалізовано стратегію артефактів:

### 1. Мінімальний зразок в репозиторії
- Зберігається мінімальна працююча структура
- Всі значення = 0 (нейтральні)
- Включає всі необхідні фази: opening, middlegame, endgame
- Включає структуру для steps (знімки позицій)

### 2. Git ігнорування
- `pst.json` додано до `.gitignore`
- Файл видалено з версійного контролю
- Зміни під час навчання не створюють конфліктів

### 3. Автоматичне створення
- `core/pst_trainer.py` оновлено для створення файлу якщо він відсутній
- При першому запуску створюється мінімальний шаблон
- Логується створення файлу

## Переваги

✅ Немає конфліктів мерджу  
✅ Файл завжди доступний для роботи  
✅ Автоматичне створення при потребі  
✅ Зберігається історія змін коду  
✅ Мінімальний розмір репозиторію  

## Використання

```python
from core.pst_trainer import load_pst, PST

# Файл створиться автоматично якщо відсутній
data = load_pst()
print(data['phases']['opening']['P'][:5])  # [0, 0, 0, 0, 0]
```

## Структура файлу

```json
{
  "phases": {
    "opening": { "P": [64 zeros], "N": [64 zeros], ... },
    "middlegame": { "P": [64 zeros], "N": [64 zeros], ... },
    "endgame": { "P": [64 zeros], "N": [64 zeros], ... }
  },
  "steps": {}
}
```

Кожен масив містить 64 значення для кожної клітинки шахової дошки.