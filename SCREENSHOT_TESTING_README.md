# –°–∏—Å—Ç–µ–º–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤ –¥–ª—è UI —Ç–µ—Å—Ç—ñ–≤

–¶—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ –ø—ñ–¥ —á–∞—Å UI —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è–º —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º —Ñ–∞–π–ª–∞–º–∏.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```python
from utils.screenshot_helper_auto import take_fullscreen, take_region_screenshot

# –°–∫—Ä—ñ–Ω—à–æ—Ç –≤—Å—å–æ–≥–æ –µ–∫—Ä–∞–Ω—É
screenshot_path = take_fullscreen("my_test", "initial_state")

# –°–∫—Ä—ñ–Ω—à–æ—Ç –ø–µ–≤–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ
screenshot_path = take_region_screenshot("my_test", "error_popup", 100, 100, 400, 300)
```

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ —Ç–µ—Å—Ç–∞—Ö

```python
import unittest
from utils.screenshot_helper_auto import take_fullscreen

class MyUITest(unittest.TestCase):
    def test_ui_behavior(self):
        # –°–∫—Ä—ñ–Ω—à–æ—Ç –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É
        take_fullscreen(self._testMethodName, "start")
        
        # –í–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Å—Ç—É...
        
        # –°–∫—Ä—ñ–Ω—à–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É
        take_fullscreen(self._testMethodName, "result")
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
workspace/
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ screenshot_helper.py          # –†–µ–∞–ª—å–Ω–∏–π ScreenshotHelper (–¥–ª—è GUI)
‚îÇ   ‚îú‚îÄ‚îÄ screenshot_helper_mock.py     # Mock –≤–µ—Ä—Å—ñ—è (–¥–ª—è headless)
‚îÇ   ‚îî‚îÄ‚îÄ screenshot_helper_auto.py     # –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä
‚îú‚îÄ‚îÄ test_screenshots/                 # –ü–∞–ø–∫–∞ –∑—ñ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ .gitkeep                      # –ó–±–µ—Ä—ñ–≥–∞—î –ø–∞–ø–∫—É –≤ Git
‚îÇ   ‚îú‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–∞–ø–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ [—Å–∫—Ä—ñ–Ω—à–æ—Ç–∏]                  # PNG —Ñ–∞–π–ª–∏ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º–∏ —ñ–º–µ–Ω–∞–º–∏
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îú‚îÄ‚îÄ screenshot_test_example.py           # –ü—Ä–∏–∫–ª–∞–¥ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ screenshot_test_example_mock.py      # –ü—Ä–∏–∫–ª–∞–¥ –∑ mock —Å–∫—Ä—ñ–Ω—à–æ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ simple_screenshot_example.py         # –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥
‚îÇ   ‚îî‚îÄ‚îÄ ui_test_with_screenshots.py          # –ü—Ä–∏–∫–ª–∞–¥ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —Ç–µ—Å—Ç–∞–º–∏
‚îî‚îÄ‚îÄ .gitignore                        # –Ü–≥–Ω–æ—Ä—É—î –ø–∞–ø–∫—É test_screenshots/
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–µ–∂–∏–º

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—î –º—ñ–∂ —Ä–µ–∞–ª—å–Ω–∏–º —Ç–∞ mock —Ä–µ–∂–∏–º–æ–º:

- **GUI —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ** (–∑ DISPLAY): –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `pyautogui` –¥–ª—è —Ä–µ–∞–ª—å–Ω–∏—Ö —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤
- **Headless —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ**: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î mock —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ –∑ PIL

### –†—É—á–Ω–∏–π –≤–∏–±—ñ—Ä —Ä–µ–∂–∏–º—É

```python
# –†–µ–∞–ª—å–Ω—ñ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ (–ø–æ—Ç—Ä–µ–±—É—î GUI)
from utils.screenshot_helper import ScreenshotHelper
helper = ScreenshotHelper()

# Mock —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ (–ø—Ä–∞—Ü—é—î –∑–∞–≤–∂–¥–∏)
from utils.screenshot_helper_mock import MockScreenshotHelper
helper = MockScreenshotHelper()
```

## üìù –§–æ—Ä–º–∞—Ç —ñ–º–µ–Ω —Ñ–∞–π–ª—ñ–≤

–°–∫—Ä—ñ–Ω—à–æ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—é—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —ñ–º–µ–Ω–∞:

```
{test_name}_{description}_{timestamp}.png
```

–ü—Ä–∏–∫–ª–∞–¥–∏:
- `chess_test_initial_state_20241201_143022_123.png`
- `ui_test_error_popup_20241201_143045_456.png`
- `game_test_board_only_20241201_143102_789.png`

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

```python
from utils.screenshot_helper_auto import (
    take_fullscreen,           # –°–∫—Ä—ñ–Ω—à–æ—Ç –≤—Å—å–æ–≥–æ –µ–∫—Ä–∞–Ω—É
    take_region_screenshot,    # –°–∫—Ä—ñ–Ω—à–æ—Ç –æ–±–ª–∞—Å—Ç—ñ
    list_screenshots,          # –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤
    cleanup_old_screenshots    # –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö —Ñ–∞–π–ª—ñ–≤
)
```

### –†–æ–∑—à–∏—Ä–µ–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```python
from utils.screenshot_helper_auto import screenshot_helper

# –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ helper'–∞
screenshot_helper.take_fullscreen("test", "description")
screenshots = screenshot_helper.list_screenshots()
screenshot_helper.cleanup_old_screenshots(days=7)
```

## üß™ –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –ü—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥

```python
from utils.screenshot_helper_auto import take_fullscreen

# –û–¥–∏–Ω —Å–∫—Ä—ñ–Ω—à–æ—Ç
take_fullscreen("my_test", "demo")
```

### 2. –¢–µ—Å—Ç–æ–≤–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π

```python
def test_chess_game():
    take_fullscreen("chess_test", "game_start")
    # ... –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ–π ...
    take_fullscreen("chess_test", "after_move")
    # ... —â–µ –¥—ñ—ó ...
    take_fullscreen("chess_test", "game_end")
```

### 3. –°–∫—Ä—ñ–Ω—à–æ—Ç–∏ –æ–±–ª–∞—Å—Ç–µ–π

```python
# –°–∫—Ä—ñ–Ω—à–æ—Ç —Ç—ñ–ª—å–∫–∏ —à–∞—Ö–æ–≤–æ—ó –¥–æ—à–∫–∏
take_region_screenshot("chess_test", "board", 200, 100, 600, 600)

# –°–∫—Ä—ñ–Ω—à–æ—Ç –ø–∞–Ω–µ–ª—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
take_region_screenshot("ui_test", "toolbar", 0, 0, 1920, 50)
```

### 4. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–∞–π–ª–∞–º–∏

```python
from utils.screenshot_helper_auto import list_screenshots, cleanup_old_screenshots

# –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏
screenshots = list_screenshots()
print(f"–ó–Ω–∞–π–¥–µ–Ω–æ {len(screenshots)} —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤")

# –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞—Ä—ñ (—Å—Ç–∞—Ä—à—ñ –∑–∞ 7 –¥–Ω—ñ–≤)
cleanup_old_screenshots(days=7)
```

## üìã –í–∏–º–æ–≥–∏

### –î–ª—è —Ä–µ–∞–ª—å–Ω–∏—Ö —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤ (GUI)
- Python 3.6+
- pyautogui
- –ì—Ä–∞—Ñ—ñ—á–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (DISPLAY)

### –î–ª—è mock —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤ (headless)
- Python 3.6+
- Pillow (PIL)

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# –í—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
pip install pyautogui Pillow

# –ê–±–æ —Ç—ñ–ª—å–∫–∏ –¥–ª—è headless
pip install Pillow
```

## üîí Git —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

- –ü–∞–ø–∫–∞ `test_screenshots/` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è –≤ `.gitignore`
- –°–∫—Ä—ñ–Ω—à–æ—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ
- –ü–∞–ø–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Git –∑–∞–≤–¥—è–∫–∏ `.gitkeep` —Ñ–∞–π–ª—É

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —ñ–º–µ–Ω—É–≤–∞–Ω–Ω—è** - —É–Ω—ñ–∫–∞–ª—å–Ω—ñ —ñ–º–µ–Ω–∞ –∑ timestamp
2. **Git-–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å** - —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ –Ω–µ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
3. **–ö—Ä–æ—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–Ω—ñ—Å—Ç—å** - –ø—Ä–∞—Ü—é—î –≤ GUI —Ç–∞ headless —Ä–µ–∂–∏–º–∞—Ö
4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è** - –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –∫–æ–¥ –¥–ª—è –ø–æ—á–∞—Ç–∫—É
5. **–ì–Ω—É—á–∫—ñ—Å—Ç—å** - –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ —Ç–∞ —Ä–æ–∑–º—ñ—Ä—ñ–≤
6. **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–∞–π–ª–∞–º–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤

## üö® –í–∞–∂–ª–∏–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏

- Mock —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∑ –≥—Ä–∞–¥—ñ—î–Ω—Ç–Ω–∏–º —Ñ–æ–Ω–æ–º —Ç–∞ —Ç–µ–∫—Å—Ç–æ–º
- –†–µ–∞–ª—å–Ω—ñ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –í—Å—ñ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ø–∞–ø—Ü—ñ `test_screenshots/`
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–±–∏—Ä–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ä–µ–∂–∏–º —Ä–æ–±–æ—Ç–∏