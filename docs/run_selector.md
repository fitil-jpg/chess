# Run Selector

Інструмент для перегляду записаних партій і статистики.

## Генерація `runs/*.json`

Спочатку потрібно зібрати файли з інформацією про ігри. Для цього використовується тестовий ранер `main.py`, який грає задану кількість партій між агентами та після кожної зберігає лог у каталозі `runs/`.

```bash
python main.py
```

Сценарій створює файли `runs/<timestamp>.json` з такими полями:

- `moves` – список ходів у SAN.
- `fens` – позиції в нотації FEN після кожного ходу (перший елемент відповідає старту).
- `modules_w` / `modules_b` – послідовність модулів, що використовувались білими та чорними.

Ці дані використовують візуалізатори (наприклад, `run_viewer.py` або `pyside_viewer.py`), щоб відтворити партію та будувати діаграми позицій. Діаграми можуть показуватись як Unicode‑фігурами (`♔♕♖…`) або ASCII‑символами, а також відображати ключові моменти гри.

## Запуск `run_selector.py`

```bash
python run_selector.py --runs runs/
```

Параметр `--runs` задає каталог з файлами; за замовчуванням використовується `runs/`. Після запуску відкриється вікно **Run Selector** з підписом "Available runs" та списком `game_id`, що відповідають іменам JSON-файлів без розширення. Вибір елемента зі списку можна передати іншим інструментам для детального перегляду діаграм та статистики.

## Міграція старих логів

Старі файли у каталозі `runs/` могли бути записані без поля `result` або мати значення `"*"`. Щоб додати коректний підсумок до наявних логів, запустіть:

```bash
python utils/migrate_runs.py --runs runs/
```

Скрипт проходить усі `*.json`, відновлює підсумок партії з фінальної позиції або списку ходів і зберігає оновлений файл.
